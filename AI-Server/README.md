# AI Server

λ™μ„μΈν…λ¦¬μ–΄ ν”„λ΅μ νΈμ AI μƒλ‹΄ μ„λ²„μ…λ‹λ‹¤. FastAPIλ¥Ό μ‚¬μ©ν•μ—¬ OpenAI λλ” Gemini APIλ¥Ό μ—°λ™ν•μ—¬ μ‚¬μ©μμ μμ—°μ–΄ μ”μ²­μ„ λ¶„μ„ν•κ³  κ²¬μ  μ •λ³΄λ¥Ό μ¶”μ¶ν•©λ‹λ‹¤.

## π“‹ λ©μ°¨

- [κΈ°λ¥](#κΈ°λ¥)
- [μ„¤μΉ λ° μ‹¤ν–‰](#μ„¤μΉ-λ°-μ‹¤ν–‰)
- [API μ—”λ“ν¬μΈνΈ](#api-μ—”λ“ν¬μΈνΈ)
- [ν™κ²½ λ³€μ](#ν™κ²½-λ³€μ)
- [κ°λ° κ°€μ΄λ“](#κ°λ°-κ°€μ΄λ“)

## π€ κΈ°λ¥

- μ‚¬μ©μμ μμ—°μ–΄ μ”μ²­ λ¶„μ„ (μ: "ABS λ„μ–΄ 5κ°λ‘ 3μ—°λ™ μ¤‘λ¬Έ 1300 μ‚¬μ΄μ¦ κ²¬μ  λ‚΄μ¤")
- μ ν’λ…, κ·κ²©, μλ‰, μµμ… μ •λ³΄ μ¶”μ¶
- OpenAI λλ” Gemini API μ—°λ™ (μ¤€λΉ„ μ¤‘)
- Spring Boot λ°±μ—”λ“μ™€ ν†µμ‹ 

## π“¦ μ„¤μΉ λ° μ‹¤ν–‰

### 1. Python κ°€μƒν™κ²½ μƒμ„± λ° ν™μ„±ν™”

```bash
# κ°€μƒν™κ²½ μƒμ„±
python -m venv venv

# Windows
venv\Scripts\activate

# macOS/Linux
source venv/bin/activate
```

### 2. ν¨ν‚¤μ§€ μ„¤μΉ

```bash
pip install -r requirements.txt
```

### 3. ν™κ²½ λ³€μ μ„¤μ •

`.env` νμΌμ„ μƒμ„±ν•κ³  API ν‚¤λ¥Ό μ„¤μ •ν•μ„Έμ”:

```env
OPENAI_API_KEY=your_openai_api_key_here
# λλ”
GEMINI_API_KEY=your_gemini_api_key_here
```

### 4. μ„λ²„ μ‹¤ν–‰

```bash
uvicorn main:app --reload --port 8000
```

μ„λ²„κ°€ μ‹¤ν–‰λλ©΄ `http://localhost:8000`μ—μ„ μ ‘κ·Όν•  μ μμµλ‹λ‹¤.

API λ¬Έμ„λ” `http://localhost:8000/docs`μ—μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

## π” API μ—”λ“ν¬μΈνΈ

### POST /analyze

μ‚¬μ©μμ μμ—°μ–΄ μ”μ²­μ„ λ¶„μ„ν•μ—¬ κ²¬μ  μ •λ³΄λ¥Ό μ¶”μ¶ν•©λ‹λ‹¤.

**Request Body:**
```json
{
  "text": "ABS λ„μ–΄ 5κ°λ‘ 3μ—°λ™ μ¤‘λ¬Έ 1300 μ‚¬μ΄μ¦ κ²¬μ  λ‚΄μ¤"
}
```

**Response:**
```json
{
  "items": [
    {
      "product_name": "ABS λ―Όμ λ„μ–΄",
      "spec": "κΈ°λ³Έ",
      "quantity": 5,
      "options": ["λ¬Έν‹€ν¬ν•¨"]
    },
    {
      "product_name": "λ©μ¬ 3μ—°λ™ μ¤‘λ¬Έ",
      "spec": "1300*2100",
      "quantity": 1,
      "options": ["λ§μ…μ λ¦¬"]
    }
  ]
}
```

## π” ν™κ²½ λ³€μ

| λ³€μλ… | μ„¤λ… | ν•„μ |
|--------|------|------|
| `OPENAI_API_KEY` | OpenAI API ν‚¤ | μ„ νƒ (OpenAI μ‚¬μ© μ‹) |
| `GEMINI_API_KEY` | Google Gemini API ν‚¤ | μ„ νƒ (Gemini μ‚¬μ© μ‹) |

## π› οΈ κ°λ° κ°€μ΄λ“

### ν”„λ΅μ νΈ κµ¬μ΅°

```
AI-Server/
β”β”€β”€ main.py              # FastAPI λ©”μΈ μ„λ²„ νμΌ
β”β”€β”€ requirements.txt     # Python ν¨ν‚¤μ§€ μμ΅΄μ„±
β”β”€β”€ .env                 # ν™κ²½ λ³€μ (gitignoreμ— ν¬ν•¨)
β”β”€β”€ venv/                # κ°€μƒν™κ²½ (gitignoreμ— ν¬ν•¨)
β””β”€β”€ README.md           # μ΄ νμΌ
```

### λ‹¤μ λ‹¨κ³„

1. **LLM μ—°λ™**: `main.py`μ `analyze_estimate` ν•¨μμ— OpenAI λλ” Gemini API νΈμ¶ λ΅μ§ μ¶”κ°€
2. **ν”„λ΅¬ν”„νΈ μ—”μ§€λ‹μ–΄λ§**: μ ν’λ…, κ·κ²©, μλ‰ λ“±μ„ μ •ν™•ν μ¶”μ¶ν•  μ μλ” ν”„λ΅¬ν”„νΈ μ‘μ„±
3. **μ—λ¬ μ²λ¦¬**: API νΈμ¶ μ‹¤ν¨ μ‹ μ μ ν• μ—λ¬ μ‘λ‹µ μ²λ¦¬
4. **λ΅κΉ…**: μ”μ²­/μ‘λ‹µ λ΅κΉ… μ¶”κ°€

## π“ ν•„μ”μ—†λ” νμΌ

λ‹¤μ νμΌ/ν΄λ”λ” Gitμ— μ»¤λ°‹ν•μ§€ μ•μ•„μ•Ό ν•©λ‹λ‹¤:

- `venv/` - Python κ°€μƒν™κ²½ ν΄λ” (λ΅μ»¬μ—μ„ μƒμ„±)
- `.env` - ν™κ²½ λ³€μ νμΌ (λ―Όκ°ν• μ •λ³΄ ν¬ν•¨)
- `__pycache__/` - Python μΊμ‹ νμΌ
- `*.pyc` - Python μ»΄νμΌλ νμΌ
- `.pytest_cache/` - pytest μΊμ‹ (ν…μ¤νΈ μ‚¬μ© μ‹)
- `.mypy_cache/` - mypy μΊμ‹ (νƒ€μ… μ²΄ν¬ μ‚¬μ© μ‹)

### .gitignore μμ‹

```
# κ°€μƒν™κ²½
venv/
env/
ENV/

# ν™κ²½ λ³€μ
.env
.env.local

# Python μΊμ‹
__pycache__/
*.py[cod]
*$py.class
*.so

# ν…μ¤νΈ λ° νƒ€μ… μ²΄ν¬
.pytest_cache/
.mypy_cache/
.coverage
htmlcov/

# IDE
.vscode/
.idea/
*.swp
*.swo
```

## π”— κ΄€λ ¨ ν”„λ΅μ νΈ

- **Back-End**: Spring Boot λ°±μ—”λ“ μ„λ²„
- **Front-End**: React ν”„λ΅ νΈμ—”λ“ μ• ν”λ¦¬μΌ€μ΄μ…

## π“„ λΌμ΄μ„ μ¤

μ΄ ν”„λ΅μ νΈλ” λ™μ„μΈν…λ¦¬μ–΄ λ‚΄λ¶€ ν”„λ΅μ νΈμ…λ‹λ‹¤.
