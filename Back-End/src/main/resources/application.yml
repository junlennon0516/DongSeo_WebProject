jwt:
  secret: ${JWT_SECRET:MTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTI=}
  expiration-ms: ${JWT_EXPIRATION_MS:86400000}

# CORS 허용 도메인 (쉼표로 구분)
# 
# 옵션 1: 비워두면 모든 도메인 허용 (*) - Vercel 프리뷰 도메인이 바뀌어도 자동 허용
# CORS_ALLOWED_ORIGINS=
#
# 옵션 2: 특정 도메인만 허용 (프로덕션 권장)
# - Vercel 프로덕션: https://your-project.vercel.app
# - Vercel 프리뷰 패턴: https://*.vercel.app (와일드카드 지원)
# - 커스텀 도메인: https://your-domain.com
# 예: CORS_ALLOWED_ORIGINS=http://localhost:5173,https://*.vercel.app,https://your-domain.com
cors:
  allowed-origins: ${CORS_ALLOWED_ORIGINS:}

# PDF 한글 폰트 (서버 환경 필수)
# - EC2: fonts-nanum 설치 후 /usr/share/fonts/truetype/nanum/NanumGothic.ttf 사용
# - PDF_FONT_PATH 로 절대경로 지정 가능 (우선)
app:
  pdf:
    font-path: ${PDF_FONT_PATH:}

spring:
  datasource:
    #url: jdbc:mysql://localhost:3306/dongseo?serverTimezone=Asia/Seoul&characterEncoding=UTF-8
    #username: root
    #password: 5776
    url: ${SPRING_DATASOURCE_URL}
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}
    driver-class-name: com.mysql.cj.jdbc.Driver
  # HTTP 응답 인코딩 설정 (한글 깨짐 방지)
  http:
    encoding:
      charset: UTF-8
      enabled: true
      force: true

  jpa:
    hibernate:
      ddl-auto: none
    show-sql: true
    open-in-view: false
    defer-datasource-initialization: true
    properties:
      hibernate:
        format_sql: true
        jdbc:
          time_zone: Asia/Seoul
        dialect: org.hibernate.dialect.MySQLDialect
        physical_naming_strategy: org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy

  sql:
    init:
      mode: always
      schema-locations: classpath:fix_schema.sql
      data-locations: classpath:data.sql
      separator: ;
      continue-on-error: true